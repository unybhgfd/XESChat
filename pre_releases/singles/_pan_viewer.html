<!-- 暂停开发, 先做完重要功能再说 -->
<!-- https://livefile.xesimg.com/programme/python_assets/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.html#xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.xxxx_xxxxxxxxxxxxx -->
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://livefile.xesimg.com/programme/python_assets/a15c2ac3234aa8f6064ef9c1f7383c37.css">
    <script src="https://livefile.xesimg.com/programme/python_assets/450d478c0491cf0b2d365997faff70dd.js"></script>
    <script src="https://livefile.xesimg.com/programme/python_assets/8925116b63282ad29fe2259ab4768694.js"></script>
    <script src="https://livefile.xesimg.com/programme/python_assets/e1d98d47689e00f8ecbc5d9f61bdb42e.js"></script>

    <!-- catppuccin-icons_data.js -->
    <script src="https://livefile.xesimg.com/programme/python_assets/4be1829fabdb641338f00a0c0d189a33.js"></script>

    <title>XESChat文件查看</title>
</head>
<body>
<div class="container">
    <br>
<!-- TODO -->
    <script>
        const OSS_URL = "https://livefile.xesimg.com/programme/python_assets/"

        /**
         * @param {string} dirName
         * */
        function getDirIconUrl(dirName) {
            let icon = OSS_URL+"cad19b88620ade8a5d9cdc002b436c7c.svg"
            if (folderName2Icon[dirName]) {
                icon = OSS_URL + folderName2Icon[dirName]
            }
            return icon
        }

        /**
         * @param {string} fileName
         */
        function getFileIconUrl(fileName) {
            let icon = OSS_URL+"567eb7b5df24e99f9fe7fe4b1b0a40de.svg"
            if (fileName2Icon[fileName]) {
                icon = OSS_URL + folderName2Icon[fileName]
            } else {
                let exts = fileName.split(".")
                if (exts.length > 1) {
                    let fileExt = exts[exts.length-1]
                    if (fileExtension2Icon[fileExt]) {
                        icon = OSS_URL + folderName2Icon[fileExt]
                    }
                }
            }
            return icon
        }

        function generateDirElem(dirData) {
            let e = document.createElement("div")
            // TODO(unybhgfd)
        }

        /** @type {Record<string, string>} */
        $(document).ready(function () {
            // TODO
            // example: root="rules" #d70a40789642a0fac5a4267e8803c88b.2dda_1755690656973
            const rootOssFileName = window.location.hash.slice(1)
            const rootDirElemUuid = generateUUID()
            fetch(
                OSS_URL+rootOssFileName,
                {
                    method: "GET",
                }
            ).then(async (resp) => {
                return JSON.parse(await resp.text())
            }).then((data) => {
                /** @type {Record<string, string>} */
                let dirs = data.directories
                /** @type {Record<string, string>} */
                let files = data.files

                const listGroupElem = document.getElementById("list-group")
                for (let dirsKey in dirs) {
                    // TODO(unybhgfd)
                }
            })
        });
    </script>

    <div class="card">
        <div class="list-group list-group-flush" id="list-group">
        </div>
    </div>
</div>
</body>
</html>
